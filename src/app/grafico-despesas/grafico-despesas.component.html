<div *ngIf="mensagemAviso; else grafico">
  {{ mensagemAviso }}
</div>
  
<ng-template #grafico>
  <div style="display: block;">
    <h5 class="titulo-grafico">Despesas por Categoria</h5>
    
    <ngx-charts-pie-chart
      [view]="view"
      [scheme]="colorScheme"
      [results]="doughnutChartData"
      [doughnut]="true"
      [labels]="true"
      (select)="selecionaCategoriaGrafico($event)">
    </ngx-charts-pie-chart>
    
    <div class="legenda-container">
      <h6 class="titulo-legenda">Legendas</h6>
      <ul *ngIf="doughnutChartData.length > 0" class="legenda-lista">
        <li *ngFor="let item of doughnutChartData" 
            [class.selected]="item.name === categoriaSelecionada">
          <span [style.background-color]="retornaCategoriaComCor(item.name)" class="cor-categoria"></span>
          <span class="nome-categoria">{{ item.name }}</span>
        </li>
      </ul>
    </div>
  </div>
</ng-template>
  
